<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
    <title>USAC: E-Rate Applicant Information by State</title>
    <link rel="stylesheet" href="https://js.arcgis.com/4.7/esri/css/main.css">
	<link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
    <style>
	  html, body{
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
      }
	  
	/* Style the body */	  
      body {
        background-color: #f6F6F6;
        overflow: hidden;
        font-family: "Trebuchet MS";
      }
	 	 
	/* Style the side navigation */
	.sidenav {
    height: 100%;
    width: 205px;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
	padding-right: 5px;
    background-color: #F6F6F6;
    overflow-x: hidden;
	border-color: #004AD4;
	border-width: 3px;
	border-style: solid;
	}
	
	.sidetitle {
	border-bottom: 1px inset #696969;
	margin-left: 5px;
	margin-right: 5px;
	margin-top: 7px;
	margin-bottom: 5px;
	}
	
	.logo {
	margin: 5px;
	}
	
	.summary {
	margin-left: 5px;
	margin-right: 5px;
	margin-top: 5px;
	margin-bottom: 0px;
	padding: 5px;
	background: #FFFFFF;
	border: 1px solid #C0C0C0;
	}
	
	.updated {
	margin-left: 5px;
	margin-right: 5px;
	margin-top: 0px;
	margin-bottom: 0px;
	padding: 5px;
	background: #FFFFFF;
	border-left: 1px solid #C0C0C0;
	border-right: 1px solid #C0C0C0;
	border-bottom: 1px solid #C0C0C0;
	}
	
	.sidenav h4, p, label {
	font-family: 'Open Sans';
	margin-bottom: 0px;
	margin-top: 0px;
	}
	
	.summary p {
	font-size: 0.75em;
	color: #696969;
	}
	 
	.sidenav label {
	font-size: 0.75em;
	color: #696969;
	}	
	 
	.updated p {
	font-size: 0.70em;
	color: #696969;
	}	 
	  
	.sidenav a:visited {
	color: #004AD4;
	}
	
	.tags {
	color: #004AD4;
	text-decoration: underline;
	}
	  
	 /* Style the main */
	.main {
	height:100%;
    margin-left: 210px;
	}
	
	/* Style buttons */
	
	  .default {
	  width: 150px;
      background-color: #C0C0C0;
      border: none;
      color: #696969;
      padding: 2px 2px;
	  font-family: 'Open Sans';
      text-align: center;
      text-decoration: bold;
	  margin: 2px 2px;
      text-align: center;
      cursor: pointer;
      font-size: 0.7em;
    }
	
	  .active-map {
      color: #000000;
      background-color: #89BAF4;
    }
    </style>
    <script src="https://js.arcgis.com/4.7/"></script>
    <script>
      var map, csv;
      require([
        "esri/Map", 
		"esri/views/MapView",
		"esri/WebMap",
		"esri/layers/Layer",
		"esri/widgets/ScaleBar",
		"esri/widgets/Legend",
		"dojo/dom",
		"dojo/on",
        "dojo/domReady!"
      ], function(
        Map,
		MapView,
		WebMap,
		Legend,
		ScaleBar,
		dom,
		on
		) {
		
		//Array holding all the webmap ids//
		var webmapids = [
		"d45e4120e9ea429abc27050fdb039258",
		"de8075c151e745199c9eb51d92c00697"
		];
		
		//Creating multiple webmap instances//
		var webmaps = webmapids.map(function(webmapid) {
        return new WebMap({
          portalItem: { // autocasts as new PortalItem()
            id: webmapid
				}
			});
		});
		
		//Start view with first webmap//
		var view = new MapView({
        map: webmaps[0],
        container: "map" 
		});
		
		//Set the map id if the first button is clicked//
		var button1Click = document.getElementById("button1");
		button1Click.addEventListener("click", mapChangeOne);
		
		function mapChangeOne (){
		var webmap = webmaps[0]
		view.map = webmap;
		}
		
		//Set the map id if the second button is clicked//
		var button2Click = document.getElementById("button2");
		button2Click.addEventListener("click", mapChangeTwo);
		
		function mapChangeTwo (){
		var webmap = webmaps[1]
		view.map = webmap;
		}
		
		//Set the map id if the third button is clicked//
		var button3Click = document.getElementById("button3");
		button3Click.addEventListener("click", mapChangeThree);
		
		function mapChangeThree (){
		var webmap = webmaps[2]
		view.map = webmap;
		}
		
		var featureLayer = webmapids.layers.getItemAt(0);
		
		var legend = new Legend({
            view: view,
            layerInfos: [{
              layer: featureLayer,
			  title: "NY Educational Attainment"
            }]
          });

          // Add widget to the bottom right corner of the view
          view.ui.add(legend, "bottom-right");
		
		
		//Setting up the scale bar//
		var scaleBar = new ScaleBar ({
		view:view,
		unit: "dual"
		});
		
		//Adding scalebar to map//
		view.ui.add(scaleBar, {
        position: "bottom-left"
      });
		
    });
		
	  
    </script>
  </head>
  <body>
<div class="sidenav">
	<div class="logo">
		<img src="logo-footer.png">
	</div>
	
	<div class="sidetitle">
	<h4>E-Rate Applicants: Aggregated by State</h4>
	</div>
	<div class="summary">
	<p>Choropleth maps help visualize aggregate data, in this case applicant requests for funding aggregated by state. However, how the data is aggregated can greatly affect to appearance and conclusions drawn from the data. Click below to see how changing the aggregation changes the choropleth map.</p> 
      <button id="button1" class="default active-map">No Choropleth</button>
      <button id="button2" class="default">Number of Applications</button>
      <button id="button3" class="default">Total Requested Funding</button>
	<p>Additional information can be found on the USAC's <a href="https://opendata.usac.org/">Open Data Portal.</a></p>
	</div>
	<div class="updated">
	<p><b>Updated:</b> June 26, 2018</p>
	<br />
	<p><b>Tags:</b> <font class="tags">schools</font>, <font class="tags">libraries</font>, <font class="tags">schools and libraries</font>, <font class="tags">erate</font>, <font class="tags">discount on services</font>, <font class="tags">basic services</font>, <font class="tags">applicant information</font>, <font class="tags">visualization</font>, <font class="tags">choropleth</font>, <font class="tags">usac</font>, <font class="tags">universal service fund</font></p>
	</div>
	
</div>
<div id="map" class="main">
</div>
  </body>
</html>