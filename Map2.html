<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
    <title>USAC: E-Rate Applicant Information by State</title>
    <link rel="stylesheet" href="https://js.arcgis.com/4.7/esri/css/main.css">
	<link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
    <style>
	  html, body{
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
      }
	  
	/* Style the body */	  
      body {
        background-color: #f6F6F6;
        overflow: hidden;
        font-family: "Trebuchet MS";
      }

	 	 
	/* Style the side navigation */
	.sidenav {
    height: 100%;
    width: 205px;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
	padding-right: 5px;
    background-color: #F6F6F6;
    overflow-x: hidden;
	border-color: #004AD4;
	border-width: 3px;
	border-style: solid;
	}
	
	.sidetitle {
	border-bottom: 1px inset #696969;
	margin-left: 5px;
	margin-right: 5px;
	margin-top: 7px;
	margin-bottom: 5px;
	}
	
	.logo {
	margin: 5px;
	}
	
	.summary {
	margin-left: 5px;
	margin-right: 5px;
	margin-top: 5px;
	margin-bottom: 0px;
	padding: 5px;
	background: #FFFFFF;
	border: 1px solid #C0C0C0;
	}
	
	.updated {
	margin-left: 5px;
	margin-right: 5px;
	margin-top: 0px;
	margin-bottom: 0px;
	padding: 5px;
	background: #FFFFFF;
	border-left: 1px solid #C0C0C0;
	border-right: 1px solid #C0C0C0;
	border-bottom: 1px solid #C0C0C0;
	}
	
	.sidenav h4, p, label {
	font-family: 'Open Sans';
	margin-bottom: 0px;
	margin-top: 0px;
	}
	
	.summary p {
	font-size: 0.75em;
	color: #696969;
	}
	 
	.sidenav label {
	font-size: 0.75em;
	color: #696969;
	}	
	 
	.updated p {
	font-size: 0.70em;
	color: #696969;
	}	 
	  
	.sidenav a:visited {
	color: #004AD4;
	}
	
	.tags {
	color: #004AD4;
	text-decoration: underline;
	}
	  
	 /* Style the main */
	.main {
	height:100%;
    margin-left: 210px;
	}
	
	/* Style buttons
    .btns {
      margin: 0 auto;
      justify-content: center;
    }
	
	  .btn-switch {
      flex-grow: 4;
      background-color: rgba(34, 111, 14, 0.5);
      color: #FFF;
      margin: 1px;
      width: 50%;
      padding: 20px;
      overflow: auto;
      text-align: center;
      cursor: pointer;
      font-size: 0.7em;
    }
	
	  .active-map {
      color: #fff;
      background-color: rgba(34, 111, 14, 1);
    }
    </style>
    <script src="https://js.arcgis.com/4.7/"></script>
    <script>
      var map, csv;
      require([
        "esri/Map", 
		"esri/views/MapView",
		"esri/WebMap",
		"esri/layers/Layer",
		"dojo/dom",
		"dojo/on",
        "dojo/domReady!"
      ], function(
        Map,
		MapView,
		WebMap,
		dom,
		on
		) {
		
		//Array holding all the webmap ids//
		var webmapids = [
		"d45e4120e9ea429abc27050fdb039258",
		"de8075c151e745199c9eb51d92c00697"
		];
		
		//Creating multiple webmap instances//
		var webmaps = webmapids.map(function(webmapid) {
        return new WebMap({
          portalItem: { // autocasts as new PortalItem()
            id: webmapid
				}
			});
		});
		
		//Start view with first webmap//
		var view = new MapView({
        map: webmaps[0],
        container: "map"
		});
		
		function changeMap(){
		
		
      on(document.querySelector(".btns"), ".btn-switch:click", function(
        event) {
        /************************************************************
         * On a button click, change the map of the View
         ************************************************************/
        var id = event.target.getAttribute("value");
        if (id) {
          var webmap = webmaps[id];
          view.map = webmap;
          var nodes = document.querySelectorAll(".btn-switch");
          for (var idx = 0; idx < nodes.length; idx++) {
            var node = nodes[idx];
            var mapIndex = node.getAttribute("value");
            if (mapIndex === id) {
              node.classList.add("active-map");
            } else {
              node.classList.remove("active-map");
            }
          }
        }
      });
    });
		
	  
    </script>
  </head>

  <body>

<div class="sidenav">
	<div class="logo">
		<img src="logo-footer.png">
	</div>
	
	<div class="sidetitle">
	<h4>E-Rate Applicants: Aggregated by State</h4>
	</div>

	<div class="summary">
	<p>Choropleth maps help visualize aggregate data, in this case applicant requests for funding aggregated by state. However, how the data is aggregated can greatly affect to appearance and conclusions drawn from the data. Click below to see how changing the aggregation changes the choropleth map.</p> 

    <div class="btns">
      <button class="btn-switch active-map" value="0">No Choropleth</button>
      <button class="btn-switch" value="1">Application Numbers</button>
      <button class="btn-switch" value="2">2015 European Sea Arrivals</button>
	</div>
	  
	<p>Additional information can be found on the USAC's <a href="https://opendata.usac.org/">Open Data Portal.</a></p>
	</div>
	<div class="updated">
	<p><b>Updated:</b> June 26, 2018</p>
	<br />
	<p><b>Tags:</b> <font class="tags">schools</font>, <font class="tags">libraries</font>, <font class="tags">schools and libraries</font>, <font class="tags">erate</font>, <font class="tags">discount on services</font>, <font class="tags">basic services</font>, <font class="tags">applicant information</font>, <font class="tags">visualization</font>, <font class="tags">choropleth</font>, <font class="tags">usac</font>, <font class="tags">universal service fund</font></p>
	</div>
	
</div>

<div id="map" class="main">
</div>

  </body>
</html>